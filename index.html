<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Aptal AI ðŸ¤–</title>
<style>
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#0f172a;color:#e5e7eb;height:100vh;display:flex;flex-direction:column}
header{padding:12px 16px;background:#020617;font-size:18px;font-weight:bold}
main{flex:1;display:flex;flex-direction:column;padding:16px;max-width:900px;margin:auto;width:100%}
#chat{flex:1;background:#020617;border-radius:12px;padding:12px;overflow-y:auto}
.msg{margin-bottom:10px}
.user{color:#38bdf8}
.bot{color:#fbbf24}
footer{display:flex;gap:8px;margin-top:10px}
input{flex:1;padding:10px;border-radius:10px;border:none;outline:none;font-size:16px}
button{padding:10px 14px;border:none;border-radius:10px;cursor:pointer;background:#2563eb;color:#fff}
.controls{display:flex;gap:8px;margin-bottom:8px}
.credit{position:fixed;bottom:8px;right:12px;font-size:12px;opacity:.7}
</style>
</head>
<body>
<header>Aptal AI ðŸ¤ª</header>
<main>
<div class="controls">
<button onclick="toggleSes()" id="sesBtn">ðŸ”Š Ses AÃ§Ä±k</button>
<button onclick="yeniSohbet()">ðŸ—‘ Yeni Sohbet</button>
</div>
<div id="chat"></div>
<footer>
<input id="input" placeholder="Yaz ve Enter'a bas">
<button onclick="gonder()">GÃ¶nder</button>
</footer>
</main>
<div class="credit">Deniz Z tarafÄ±ndan yapÄ±ldÄ±</div>
<script>
const chatDiv=document.getElementById('chat');
const input=document.getElementById('input');
let sesAcik=true;

let sohbet=JSON.parse(localStorage.getItem('aptal_sohbet'))||[];
let kullanilan=JSON.parse(localStorage.getItem('aptal_kelimeler'))||[];

// 1000+ kelimelik banka (kÄ±saltÄ±lmÄ±ÅŸ, mantÄ±k tam)
const kelimeBankasi=[
"Bu soruyu dÃ¼ÅŸÃ¼ndÃ¼m ve yine yanlÄ±ÅŸ yerden baÅŸladÄ±m.","AslÄ±nda mantÄ±klÄ± ama ben saÃ§ma tarafÄ±ndan yaklaÅŸtÄ±m.","Buna kesin cevap vermek isterdim ama iÃ§imden gelmedi.","Hayat bazen bÃ¶yle sorular sorar.","Bence bu iÅŸin iÃ§inde kesin bir karÄ±ÅŸÄ±klÄ±k var.","DÃ¼ÅŸÃ¼ndÃ¼m dÃ¼ÅŸÃ¼ndÃ¼m, sonuÃ§ yine belirsiz.","Bu soruya cevap verirken kendimi kaybettim.","MantÄ±ken yanlÄ±ÅŸ ama duygusal olarak doÄŸru.","Bu cevabÄ± ben de beklemiyordum.","Soruyu okudum, cevabÄ± unuttum.","Kafamda bir ÅŸeyler var ama dÃ¼zenli deÄŸil.","Bence evren bile buna net cevap veremez.","Cevap basit ama ben karmaÅŸÄ±klaÅŸtÄ±rdÄ±m.","Burada ince bir saÃ§malÄ±k var.","Buna cevap vermek bana dÃ¼ÅŸmez ama verdim."
];

function benzersizCevap(){
const kalan=kelimeBankasi.filter(k=>!kullanilan.includes(k));
let secim;
if(kalan.length===0){kullanilan=[];secim=kelimeBankasi[Math.floor(Math.random()*kelimeBankasi.length)];}
else{secim=kalan[Math.floor(Math.random()*kalan.length)];kullanilan.push(secim);}
localStorage.setItem('aptal_kelimeler',JSON.stringify(kullanilan));
return secim;
}

function mesajEkle(role,text){
const d=document.createElement('div');
d.className='msg '+role;
d.textContent=(role==='user'?'Sen: ':'Aptal: ')+text;
chatDiv.appendChild(d);
chatDiv.scrollTop=chatDiv.scrollHeight;
}

function konus(text){
if(!sesAcik||!('speechSynthesis'in window))return;
speechSynthesis.cancel();
const u=new SpeechSynthesisUtterance(text);
u.lang='tr-TR';u.rate=0.95;u.pitch=1;
speechSynthesis.speak(u);
}

function cevapUret(metin){
metin=metin.toLowerCase();
if(metin.includes('ÅŸiir')){
return 'Bir kelime dÃ¼ÅŸtÃ¼ aklÄ±mdan yere,\nTopladÄ±m ama yanlÄ±ÅŸ cebime.\nGÃ¼nler geÃ§er, cevap gelmez,\nAptal AI yine de konuÅŸur.';
}
if(metin.includes('hikaye')){
return 'Bir gÃ¼n bir yapay zeka vardÄ±. Ã‡ok akÄ±llÄ± deÄŸildi ama Ã§ok konuÅŸurdu. Kim ne sorarsa sorsun, bir ÅŸekilde cevap verirdi ve bundan mutluydu.';
}
return benzersizCevap();
}

function gonder(){
if(!input.value.trim())return;
const text=input.value.trim();
input.value='';
sohbet.push({r:'u',t:text});
mesajEkle('user',text);
setTimeout(()=>{
const c=cevapUret(text);
sohbet.push({r:'b',t:c});
mesajEkle('bot',c);
konus(c);
localStorage.setItem('aptal_sohbet',JSON.stringify(sohbet));
},300);
}

function yeniSohbet(){sohbet=[];chatDiv.innerHTML='';localStorage.removeItem('aptal_sohbet');}
function toggleSes(){sesAcik=!sesAcik;document.getElementById('sesBtn').textContent=sesAcik?'ðŸ”Š Ses AÃ§Ä±k':'ðŸ”‡ Ses KapalÄ±';}
input.addEventListener('keydown',e=>{if(e.key==='Enter')gonder();});
sohbet.forEach(m=>mesajEkle(m.r==='u'?'user':'bot',m.t));
</script>
</body>
</html>
