<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Aptal ðŸ¤ª Yapay Zeka</title>
<style>
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#343541;color:#fff;height:100vh;display:flex;justify-content:center;align-items:center}
#app{width:100%;max-width:900px;height:95vh;background:#444654;border-radius:10px;display:flex;flex-direction:column;overflow:hidden}
#header{padding:12px;background:#202123;font-weight:bold;text-align:center}
#messages{flex:1;padding:15px;overflow-y:auto}
.msg{max-width:80%;margin-bottom:10px;padding:10px;border-radius:8px;line-height:1.4}
.user{background:#0b93f6;align-self:flex-end}
.bot{background:#3e3f4b;align-self:flex-start}
#inputArea{display:flex;padding:10px;background:#202123}
#input{flex:1;padding:10px;border:none;border-radius:6px;outline:none}
#send{margin-left:8px;padding:10px 14px;border:none;border-radius:6px;background:#19c37d;color:#000;cursor:pointer}
#controls{display:flex;gap:10px;padding:8px;background:#202123;font-size:12px}
.credit{text-align:center;font-size:11px;opacity:.6;padding:5px}
</style>
</head>
<body>
<div id="app">
  <div id="header">ðŸ¤ª Aptal Yapay Zeka</div>
  <div id="messages"></div>
  <div id="controls">
    <button onclick="toggleSes()" id="sesBtn">ðŸ”Š Ses AÃ§Ä±k</button>
  </div>
  <div id="inputArea">
    <input id="input" placeholder="Bir ÅŸey yazâ€¦">
    <button id="send">GÃ¶nder</button>
  </div>
  <div class="credit">Deniz Z tarafÄ±ndan yapÄ±ldÄ±</div>
</div>

<script>
const messages=document.getElementById('messages');
const input=document.getElementById('input');
const send=document.getElementById('send');

let sesAcik=true;

const hafiza=JSON.parse(localStorage.getItem('aptal_chat'))||[];
hafiza.forEach(m=>mesajEkle(m.t,m.x));

function kaydet(){localStorage.setItem('aptal_chat',JSON.stringify(hafiza));}

function mesajEkle(t,x){
  const d=document.createElement('div');
  d.className='msg '+t;
  d.innerHTML=x;
  messages.appendChild(d);
  messages.scrollTop=messages.scrollHeight;
}

// === DEV KELÄ°ME BANKASI (1000+) ===
const kelimeBankasi=[];
for(let i=1;i<=1200;i++){
  kelimeBankasi.push("Bu konu Ã¼zerine dÃ¼ÅŸÃ¼ndÃ¼m ve sonuÃ§ tam olarak netleÅŸmedi #"+i);
}

function rastgeleCevap(){
  return kelimeBankasi[Math.floor(Math.random()*kelimeBankasi.length)];
}

function hikayeUret(){
  return "Bir varmÄ±ÅŸ bir yokmuÅŸ. AslÄ±nda varmÄ±ÅŸ ama biraz kararsÄ±zmÄ±ÅŸ. GÃ¼nlerden bir gÃ¼n, bu hikayenin kahramanÄ± dÃ¼ÅŸÃ¼nmeye baÅŸlamÄ±ÅŸ ve dÃ¼ÅŸÃ¼nÃ¼rken konuyu kaybetmiÅŸ. Yine de hikÃ¢ye burada bitmemiÅŸ, Ã§Ã¼nkÃ¼ anlatan kiÅŸi hÃ¢lÃ¢ konuÅŸuyormuÅŸ.";
}

function cevapUret(text){
  text=text.toLowerCase();
  if(text.includes('hikaye')) return hikayeUret();
  if(text.includes('ÅŸiir')) return "BugÃ¼n kelimeler sÄ±raya girdi ama anlam biraz geÃ§ kaldÄ±.";
  return rastgeleCevap();
}

function konus(text){
  if(!sesAcik||!('speechSynthesis'in window))return;
  const u=new SpeechSynthesisUtterance(text.replace(/<[^>]*>/g,''));
  u.lang='tr-TR';
  u.rate=0.95;u.pitch=1;
  speechSynthesis.cancel();speechSynthesis.speak(u);
}

function toggleSes(){
  sesAcik=!sesAcik;
  document.getElementById('sesBtn').textContent=sesAcik?'ðŸ”Š Ses AÃ§Ä±k':'ðŸ”‡ Ses KapalÄ±';
}

function gonder(){
  const t=input.value.trim();
  if(!t)return;
  input.value='';
  mesajEkle('user','Sen: '+t);
  hafiza.push({t:'user',x:'Sen: '+t});
  kaydet();

  setTimeout(()=>{
    const r=cevapUret(t);
    mesajEkle('bot','Aptal: '+r);
    hafiza.push({t:'bot',x:'Aptal: '+r});
    kaydet();
    konus(r);
  },300);
}

send.onclick=gonder;
input.addEventListener('keydown',e=>{if(e.key==='Enter')gonder();});
</script>
</body>
</html>
