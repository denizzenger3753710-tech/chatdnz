<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CHATDNZ</title>
<style>
*{box-sizing:border-box}
body{margin:0;font-family:Arial;background:linear-gradient(135deg,#020617,#0f172a);color:#fff;height:100vh;display:flex;flex-direction:column;transition:background .4s}
header{text-align:center;padding:8px;font-size:14px;letter-spacing:1px;animation:parla 2s infinite}
@keyframes parla{0%,100%{opacity:.6}50%{opacity:1}}
#logo{position:fixed;top:8px;right:12px;font-weight:bold;cursor:pointer;transition:transform .3s}
#logo:hover{transform:scale(1.2) rotate(-5deg)}
#wrap{flex:1;display:flex}
#menu{width:230px;background:#020617;padding:12px;border-right:1px solid #1e293b}
#menu h3{margin:4px 0}
#menu select,#menu button,#menu input{width:100%;margin-top:8px;padding:8px;border-radius:6px;border:none}
#chatWrap{flex:1;display:flex;flex-direction:column}
#sinirBar{height:8px;width:30%;background:#16a34a;transition:.2s}
#chat{flex:1;padding:12px;overflow-y:auto}
.msg{margin:6px 0}
.user{color:#38bdf8}
.bot{color:#fbbf24}
.typing{color:#94a3b8;font-style:italic}
footer{display:flex;gap:6px;padding:8px;background:#020617}
footer input{flex:1;padding:10px;border-radius:6px;border:none}
footer button{padding:10px;border-radius:6px;border:none;background:#2563eb;color:#fff}
@media(max-width:768px){#wrap{flex-direction:column}#menu{width:100%;border-right:none;border-bottom:1px solid #1e293b}}
</style>
</head>
<body>
<header>âœ¨ DENÄ°Z Z TARAFINDAN YAPILDI âœ¨</header>
<div id="logo">ğŸ¤– CHATDNZ</div>
<div id="wrap">
 <div id="menu">
  <h3>Mod</h3>
  <select id="mod">
   <option value="normal">ğŸ˜ Normal</option>
   <option value="sinirli">ğŸ˜¡ Sinirli</option>
   <option value="mutlu">ğŸ™‚ Mutlu</option>
   <option value="uzgun">ğŸ˜¢ ÃœzgÃ¼n</option>
  </select>
  <label>Sinir Seviyesi</label>
  <input type="range" id="sinir" min="0" max="100" value="30">
  <button id="sesBtn">ğŸ”Š Ses AÃ§Ä±k</button>
  <button id="clearBtn">ğŸ§¹ Sohbeti Temizle</button>
  <button id="exportBtn">ğŸ’¾ Sohbeti Ä°ndir</button>
 </div>
 <div id="chatWrap">
  <div id="sinirBar"></div>
  <div id="chat"></div>
  <footer>
   <input id="inp" placeholder="Yaz bakalÄ±mâ€¦">
   <button id="btn">GÃ¶nder</button>
  </footer>
 </div>
</div>
<script>
const chat=document.getElementById('chat');
const inp=document.getElementById('inp');
const btn=document.getElementById('btn');
const mod=document.getElementById('mod');
const sinir=document.getElementById('sinir');
const sinirBar=document.getElementById('sinirBar');
const sesBtn=document.getElementById('sesBtn');
const clearBtn=document.getElementById('clearBtn');
const exportBtn=document.getElementById('exportBtn');
let ses=true;

let sohbet=JSON.parse(localStorage.getItem('chatdnz_sohbet')||'[]');
let hafiza=JSON.parse(localStorage.getItem('chatdnz_hafiza')||'[]');

const giris=["Bak","AÃ§Ä±kÃ§asÄ±","Cidden","Harbi","Net konuÅŸayÄ±m","AslÄ±na bakarsan"];
const orta=["bu konu","bu mesaj","bu durum","bu saÃ§malÄ±k","bu soru"];
const son=["ilginÃ§ ama saÃ§ma.","fazla iddialÄ±.","beni yordu.","tam CHATDNZ'lik."];

function rand(a){return a[Math.floor(Math.random()*a.length)]}

function arkaplanDegis(){
 if(mod.value==='sinirli')document.body.style.background='linear-gradient(135deg,#450a0a,#7f1d1d)';
 if(mod.value==='mutlu')document.body.style.background='linear-gradient(135deg,#064e3b,#16a34a)';
 if(mod.value==='uzgun')document.body.style.background='linear-gradient(135deg,#1e293b,#334155)';
 if(mod.value==='normal')document.body.style.background='linear-gradient(135deg,#020617,#0f172a)';
}
mod.onchange=arkaplanDegis;

function zeka(m){
 if(hafiza.includes(m)) return "Bunu daha Ã¶nce konuÅŸtuk, tekrar yok.";
 hafiza.push(m);localStorage.setItem('chatdnz_hafiza',JSON.stringify(hafiza));
 if(m.toLowerCase().includes('kim yaptÄ±')) return "Beni DENÄ°Z Z yaptÄ±.";
 return `${rand(giris)} ${rand(orta)} ${rand(son)}`;
}

function ekle(k,t){const d=document.createElement('div');d.className='msg '+k;d.textContent=t;chat.appendChild(d);chat.scrollTop=chat.scrollHeight}

function konus(t){if(!ses||!('speechSynthesis'in window))return;speechSynthesis.cancel();const u=new SpeechSynthesisUtterance(t);u.lang='tr-TR';speechSynthesis.speak(u)}

sohbet.forEach(x=>ekle(x.k,x.t));

btn.onclick=()=>{
 const t=inp.value.trim();if(!t)return;
 ekle('user','Sen: '+t);sohbet.push({k:'user',t:'Sen: '+t});inp.value='';
 const typing=document.createElement('div');typing.className='typing';typing.textContent='CHATDNZ yazÄ±yorâ€¦';chat.appendChild(typing);
 setTimeout(()=>{
  typing.remove();
  const c=zeka(t);
  ekle('bot','CHATDNZ: '+c);sohbet.push({k:'bot',t:'CHATDNZ: '+c});
  localStorage.setItem('chatdnz_sohbet',JSON.stringify(sohbet));
  konus(c);
 },600);
};

inp.addEventListener('keydown',e=>{if(e.key==='Enter')btn.onclick()});

sinir.oninput=()=>{sinirBar.style.width=sinir.value+'%';sinirBar.style.background=sinir.value>70?'#dc2626':sinir.value>40?'#facc15':'#16a34a'};

sesBtn.onclick=()=>{ses=!ses;sesBtn.textContent=ses?'ğŸ”Š Ses AÃ§Ä±k':'ğŸ”‡ Ses KapalÄ±'};

clearBtn.onclick=()=>{if(!confirm('Sohbet silinsin mi?'))return;sohbet=[];hafiza=[];localStorage.clear();chat.innerHTML=''};

exportBtn.onclick=()=>{if(!sohbet.length)return;let t=sohbet.map(x=>x.t).join("\n");const b=new Blob([t]);const a=document.createElement('a');a.href=URL.createObjectURL(b);a.download='chatdnz.txt';a.click()};
</script>
</body>
</html>
