<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CHATDNZ</title>
<style>
*{box-sizing:border-box}
body{margin:0;font-family:Arial;background:linear-gradient(135deg,#020617,#0f172a);color:#fff;height:100vh;display:flex;flex-direction:column}
header{text-align:center;padding:8px;font-size:14px;letter-spacing:1px}
#logo{position:fixed;top:8px;right:12px;font-weight:bold}
#wrap{flex:1;display:flex}
#menu{width:230px;background:#020617;padding:12px;border-right:1px solid #1e293b}
#menu h3{margin:4px 0}
#menu select,#menu button,#menu input{width:100%;margin-top:8px;padding:8px;border-radius:6px;border:none}
#chatWrap{flex:1;display:flex;flex-direction:column}
#sinirBar{height:8px;width:30%;background:#16a34a;transition:.2s}
#chat{flex:1;padding:12px;overflow-y:auto}
.msg{margin:6px 0}
.user{color:#38bdf8}
.bot{color:#fbbf24}
footer{display:flex;gap:6px;padding:8px;background:#020617}
footer input{flex:1;padding:10px;border-radius:6px;border:none}
footer button{padding:10px;border-radius:6px;border:none;background:#2563eb;color:#fff}
@media(max-width:768px){#wrap{flex-direction:column}#menu{width:100%;border-right:none;border-bottom:1px solid #1e293b}}
#typing{padding:6px 12px;font-style:italic;opacity:.7;display:none}
#logo{transition:transform .3s,color .3s}
#logo:hover{transform:scale(1.1);color:#38bdf8}
header{animation:pulse 2.5s infinite}
@keyframes pulse{0%{opacity:.6}50%{opacity:1}100%{opacity:.6}}
</style>
</head>
<body>
<header>DENÄ°Z Z TARAFINDAN YAPILDI</header>
<div id="logo">ğŸ¤– CHATDNZ</div>
<div id="wrap">
 <div id="menu">
  <h3>Mod</h3>
<select id="mod">
 <option value="normal">ğŸ˜ Normal</option>
 <option value="sinirli">ğŸ˜¡ Sinirli</option>
 <option value="mutlu">ğŸ™‚ Mutlu</option>
 <option value="uzgun">ğŸ˜¢ ÃœzgÃ¼n</option>
</select>
<label>Sinir Seviyesi</label>
<input type="range" id="sinir" min="0" max="100" value="30">
<label>Ses</label>
<select id="voiceSel">
 <option value="erkek">ğŸ‘¨ Erkek</option>
 <option value="kiz">ğŸ‘© KÄ±z</option>
</select>
<button id="sesBtn">ğŸ”Š Ses AÃ§Ä±k</button>
<button id="clearBtn">ğŸ§¹ Sohbeti Temizle</button>
  <button id="exportBtn">ğŸ’¾ Sohbeti Ä°ndir</button>
 </div>
 <div id="chatWrap">
  <div id="sinirBar"></div>
  <div id="chat"></div><div id="typing">CHATDNZ yazÄ±yor...</div>
  <footer>
   <input id="inp" placeholder="Yaz bakalÄ±mâ€¦">
   <button id="btn">GÃ¶nder</button>
  </footer>
 </div>
</div>
<script>
// === TAM Ã‡ALIÅAN GELÄ°ÅMÄ°Å SÃœRÃœM ===
const chat = document.getElementById('chat');
const inp=document.getElementById('inp');
const btn=document.getElementById('btn');
const mod=document.getElementById('mod');
const sinir=document.getElementById('sinir');
const sinirBar=document.getElementById('sinirBar');
const sesBtn=document.getElementById('sesBtn');
const voiceSel=document.getElementById('voiceSel');
const typing=document.getElementById('typing');
const clearBtn=document.getElementById('clearBtn');
const exportBtn=document.getElementById('exportBtn');
let ses=true;

// SOHBET KAYDI + HAFIZA
let sohbet=JSON.parse(localStorage.getItem('chatdnz_sohbet')||'[]');
let hafiza=JSON.parse(localStorage.getItem('chatdnz_hafiza')||'[]');

// 1000+ KELÄ°ME GERÃ‡EK HAVUZ (kombinasyon)
const giris=["Bak","AÃ§Ä±kÃ§asÄ±","Cidden","Harbi","Ne yalan sÃ¶yleyeyim","Garip ama","Ä°ÅŸin tuhafÄ±","DÃ¼rÃ¼st olayÄ±m","Kabul edelim ki","Net konuÅŸayÄ±m","Bence","ÅÃ¶yle ki","Duruma gÃ¶re","AslÄ±na bakarsan"];
const orta=["bu soru","bu konu","bu mesaj","bu yaklaÅŸÄ±m","bu fikir","bu deneme","bu durum","bu saÃ§malÄ±k","bu dÃ¼ÅŸÃ¼nce","bu olay","bu merak","bu talep"];
const son=["aklÄ±mÄ± karÄ±ÅŸtÄ±rdÄ±.","fazla iddialÄ±.","biraz absÃ¼rt.","mantÄ±k dÄ±ÅŸÄ±.","beni yordu.","ilginÃ§ ama saÃ§ma.","tam CHATDNZ'lik.","beklediÄŸimden garip.","net bir cevap istemiyor."];
const mathCevap=["1453","42","Bence 7","Hocaya sor","Cevap evrende gizli","SonuÃ§: belirsiz"];
const siirBas=["Bir gÃ¼n","Gece vakti","AnsÄ±zÄ±n","Sessizce","KaranlÄ±kta"];
const siirSon=["bir algoritma aÄŸladÄ±","bir sayÄ± sustu","kodlar uyandÄ±","mantÄ±k kaÃ§tÄ±","veriler daÄŸÄ±ldÄ±"];

function rand(a){return a[Math.floor(Math.random()*a.length)]}

function zeka(m){
 if(hafiza.includes(m)) return "Bunu daha Ã¶nce sordun, tekrar etmiyorum.";
 hafiza.push(m);
 localStorage.setItem('chatdnz_hafiza',JSON.stringify(hafiza));
 m=m.toLowerCase();
 if(m.includes('kim yaptÄ±')||m.includes('kim yarattÄ±')) return "Beni DENÄ°Z Z yaptÄ±.";
 if(m.includes('mat')) return rand(mathCevap);
 if(m.includes('ÅŸiir')) return rand(siirBas)+" "+rand(siirSon)+".";
 if(m.includes('hikaye')) return "Bir zamanlar CHATDNZ vardÄ±. AnlÄ±yor gibi yapar, saÃ§ma cevaplar Ã¼retirdi.";
 let c=`${rand(giris)} ${rand(orta)} ${rand(son)}`;
 if(mod.value==='sinirli'&&sinir.value>60) c+=' Sinirimi zorluyorsun.';
 if(mod.value==='mutlu') c+=' Ama keyfim yerinde.';
 if(mod.value==='uzgun') c+=' Biraz hÃ¼zÃ¼n kattÄ±.';
 return c;
}

function ekle(k,t){const d=document.createElement('div');d.className='msg '+k;d.textContent=t;chat.appendChild(d);chat.scrollTop=chat.scrollHeight}

function konus(t){
 if(!ses||!('speechSynthesis'in window))return;
 speechSynthesis.cancel();
 const u=new SpeechSynthesisUtterance(t);
 u.lang='tr-TR';
 const voices=speechSynthesis.getVoices();
 if(voiceSel.value==='kiz'){
  u.voice=voices.find(v=>v.lang==='tr-TR'&&v.name.toLowerCase().includes('female'))||voices.find(v=>v.lang==='tr-TR');
 } else {
  u.voice=voices.find(v=>v.lang==='tr-TR'&&v.name.toLowerCase().includes('male'))||voices.find(v=>v.lang==='tr-TR');
 }
 u.pitch=mod.value==='sinirli'?0.7:mod.value==='mutlu'?1.3:1;
 u.rate=sinir.value>70?1.15:1;
 speechSynthesis.speak(u);
}

// eski sohbeti yÃ¼kle
sohbet.forEach(x=>ekle(x.k,x.t));

btn.onclick=()=>{
 const t=inp.value.trim();
 if(!t) return;
 ekle('user','Sen: '+t);
 sohbet.push({k:'user',t:'Sen: '+t});
 inp.value='';
 typing.style.display='block';
 setTimeout(()=>{
  typing.style.display='none';
  const c=zeka(t);
  ekle('bot','CHATDNZ: '+c);
  sohbet.push({k:'bot',t:'CHATDNZ: '+c});
  localStorage.setItem('chatdnz_sohbet',JSON.stringify(sohbet));
  konus(c);
 },400);
};

inp.addEventListener('keydown',e=>{if(e.key==='Enter')btn.onclick()});

sinir.oninput=()=>{
 sinirBar.style.width=sinir.value+'%';
 sinirBar.style.background=sinir.value>70?'#dc2626':sinir.value>40?'#facc15':'#16a34a';
 if(mod.value==='sinirli') document.body.style.background='linear-gradient(135deg,#450a0a,#020617)';
 if(mod.value==='mutlu') document.body.style.background='linear-gradient(135deg,#064e3b,#020617)';
 if(mod.value==='uzgun') document.body.style.background='linear-gradient(135deg,#1e3a8a,#020617)';
 if(mod.value==='normal') document.body.style.background='linear-gradient(135deg,#020617,#0f172a)';
};

sesBtn.onclick=()=>{ses=!ses;sesBtn.textContent=ses?'ğŸ”Š Ses AÃ§Ä±k':'ğŸ”‡ Ses KapalÄ±'};

clearBtn.onclick=()=>{
 if(!confirm('TÃ¼m sohbet silinsin mi?')) return;
 sohbet=[];
 hafiza=[];
 localStorage.removeItem('chatdnz_sohbet');
 localStorage.removeItem('chatdnz_hafiza');
 chat.innerHTML='';
};

exportBtn.onclick=()=>{
 if(sohbet.length===0){alert('Sohbet yok');return;}
 let text = sohbet.map(x => x.t).join("\n");
 const blob=new Blob([text],{type:'text/plain'});
 const a=document.createElement('a');
 a.href=URL.createObjectURL(blob);
 a.download='chatdnz_sohbet.txt';
 a.click();
 URL.revokeObjectURL(a.href);
};;
</script>
</body>
</html>
